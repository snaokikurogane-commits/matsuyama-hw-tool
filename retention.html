<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学歴・暦年自動計算ツール</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; line-height: 1.6; padding: 20px; background-color: #f8f9fa; color: #333; }
        .container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h1 { font-size: 1.25rem; text-align: center; color: #d81b60; border-bottom: 2px solid #fce4ec; padding-bottom: 10px; }
        .input-section { background: #fff5f8; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #f8bbd0; }
        label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 0.9rem; }
        /* 制限のヒントを表示するスタイル */
        .input-hint { font-size: 0.75rem; color: #666; margin-bottom: 5px; font-weight: normal; }
        input, select { width: 100%; padding: 12px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; margin-bottom: 15px; }
        .error-msg { color: #d32f2f; font-size: 0.85rem; font-weight: bold; margin-bottom: 10px; display: none; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: #d81b60; font-weight: bold; }
        .checkbox-group input { width: auto; margin: 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.9rem; }
        th, td { border: 1px solid #eee; padding: 10px; text-align: left; }
        th { background-color: #fce4ec; color: #c2185b; width: 40%; }
        .disclaimer-box { margin-top: 30px; padding: 15px; border: 1px solid #ddd; border-radius: 6px; background-color: #fdfdfd; }
        .disclaimer-box h2 { font-size: 0.85rem; margin-top: 0; color: #666; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .disclaimer-box ul { padding-left: 20px; margin: 0; font-size: 0.75rem; color: #666; }
        .disclaimer-box li { margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h1>学歴・暦年自動計算ツール</h1>

    <div class="input-section">
        <label>生まれた西暦を入力</label>
        <p class="input-hint">※1900年〜2026年の範囲で入力してください</p>
        <input type="number" id="birthYear" placeholder="例: 1995" min="1900" max="2026" oninput="calculate()">
        <div id="errorArea" class="error-msg"></div>
        
        <div class="checkbox-group">
            <input type="checkbox" id="isEarlyBirth" onchange="calculate()">
            <label for="isEarlyBirth">1月1日〜4月1日生まれ（早生まれ）</label>
        </div>
    </div>

    <div id="resultArea" style="display:none;">
        <table>
            <thead>
                <tr>
                    <th>項目</th>
                    <th>年度（西暦 / 和暦）</th>
                </tr>
            </thead>
            <tbody id="resultTable">
            </tbody>
        </table>
    </div>

    <div class="disclaimer-box">
        <h2>免責事項</h2>
        <ul>
            <li>本ツールは、一般的な就学基準に基づく計算結果を表示する参考用ツールです。</li>
            <li>計算には細心の注意を払っておりますが、情報の正確性、完全性、有用性を保証するものではありません。</li>
            <li>本計算結果は「ストレートでの入学・卒業」を前提としています。浪人・留年・留学・休学等の期間は考慮されておりませんので、必要に応じてご自身で加減してください。</li>
            <li>早生まれ（1月1日〜4月1日）の判定は、入力されたチェックボックスの状態に基づきます。</li>
            <li>本ツールの利用により生じたいかなる損害についても、<strong>ハローワーク松山</strong>は一切の責任を負いません。公的な書類への記入に際しては、必ずご自身で原本や証明書等と照合してください。</li>
        </ul>
    </div>
</div>

<script>
    function getWareki(year) {
        if (year >= 2019) {
            const r = year - 2018;
            return `令和${r === 1 ? '元' : r}年`;
        } else if (year >= 1989) {
            const h = year - 1988;
            return `平成${h === 1 ? '元' : h}年`;
        } else if (year >= 1926) {
            const s = year - 1925;
            return `昭和${s === 1 ? '元' : s}年`;
        } else if (year >= 1912) {
            const t = year - 1911;
            return `大正${t === 1 ? '元' : t}年`;
        } else if (year >= 1868) {
            const m = year - 1867;
            return `明治${m === 1 ? '元' : m}年`;
        }
        return year + "年";
    }

    function calculate() {
        const input = document.getElementById('birthYear');
        const errorArea = document.getElementById('errorArea');
        const resultArea = document.getElementById('resultArea');
        const tableBody = document.getElementById('resultTable');
        
        let year = parseInt(input.value);
        const isEarly = document.getElementById('isEarlyBirth').checked;

        // 入力が空、または極端な数値のチェック
        if (!year) {
            resultArea.style.display = 'none';
            errorArea.style.display = 'none';
            return;
        }

        // 範囲制限（1900年〜2026年）
        const minYear = 1900;
        const maxYear = 2026;

        if (year < minYear || year > maxYear) {
            errorArea.innerText = `※${minYear}年〜${maxYear}年の範囲で入力してください。`;
            errorArea.style.display = 'block';
            resultArea.style.display = 'none';
            return;
        } else {
            errorArea.style.display = 'none';
        }

        resultArea.style.display = 'block';
        const baseYear = isEarly ? year - 1 : year;

        // 資料に基づく学歴計算定数
        const milestones = [
            { label: "小学校 入学", offset: 7, month: "4" },
            { label: "小学校 卒業", offset: 13, month: "3" },
            { label: "中学校 入学", offset: 13, month: "4" },
            { label: "中学校 卒業", offset: 16, month: "3" },
            { label: "高等学校 入学", offset: 16, month: "4" },
            { label: "高等学校 卒業", offset: 19, month: "3" },
            { label: "大学・専門学校(2年制) 卒業", offset: 21, month: "3" },
            { label: "専門学校(3年制) 卒業", offset: 22, month: "3" },
            { label: "大学・専門学校(4年制) 卒業", offset: 23, month: "3" }
        ];

        let html = "";
        milestones.forEach(m => {
            const calcYear = baseYear + m.offset;
            html += `<tr>
                <td>${m.label}</td>
                <td>${calcYear}年（${getWareki(calcYear)}）${m.month}月</td>
            </tr>`;
        });

        tableBody.innerHTML = html;
    }
</script>

</body>
</html>
