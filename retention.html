<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学歴・暦年換算ツール</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; line-height: 1.6; padding: 20px; background-color: #f8f9fa; color: #333; }
        .container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h1 { font-size: 1.25rem; text-align: center; color: #d81b60; border-bottom: 2px solid #fce4ec; padding-bottom: 10px; }
        .input-section { background: #fff5f8; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #f8bbd0; }
        label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 0.9rem; }
        input, select { width: 100%; padding: 12px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; margin-bottom: 15px; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: #d81b60; font-weight: bold; }
        .checkbox-group input { width: auto; margin: 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.9rem; }
        th, td { border: 1px solid #eee; padding: 10px; text-align: left; }
        th { background-color: #fce4ec; color: #c2185b; width: 40%; }
        .note { font-size: 0.75rem; color: #666; margin-top: 15px; line-height: 1.4; }
        .highlight { color: #d81b60; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1>学歴・暦年自動計算ツール</h1>

    <div class="input-section">
        <label>生まれた西暦を入力</label>
        <input type="number" id="birthYear" placeholder="例: 1995" oninput="calculate()">
        
        <div class="checkbox-group">
            <input type="checkbox" id="isEarlyBirth" onchange="calculate()">
            <label for="isEarlyBirth">1月1日〜4月1日生まれ（早生まれ）</label>
        </div>
    </div>

    <div id="resultArea" style="display:none;">
        <table>
            <thead>
                <tr>
                    <th>項目</th>
                    <th>年度（西暦 / 和暦）</th>
                </tr>
            </thead>
            <tbody id="resultTable">
                </tbody>
        </table>
    </div>

    <div class="note">
        ※資料に基づき計算：早生まれは「生年-1」で算出します。<br>
        ※浪人・留年等は考慮していません。必要に応じて年数を加減してください。
    </div>
</div>

<script>
    function getWareki(year) {
        if (year >= 2019) {
            const r = year - 2018;
            return `令和${r === 1 ? '元' : r}年`;
        } else if (year >= 1989) {
            const h = year - 1988;
            return `平成${h === 1 ? '元' : h}年`;
        } else if (year >= 1926) {
            const s = year - 1925;
            return `昭和${s === 1 ? '元' : s}年`;
        }
        return year + "年";
    }

    function calculate() {
        let year = parseInt(document.getElementById('birthYear').value);
        const isEarly = document.getElementById('isEarlyBirth').checked;
        const resultArea = document.getElementById('resultArea');
        const tableBody = document.getElementById('resultTable');

        if (!year || year < 1900) {
            resultArea.style.display = 'none';
            return;
        }

        resultArea.style.display = 'block';
        
        // 資料の注記：早生まれの場合は生年を-1する
        const baseYear = isEarly ? year - 1 : year;

        const milestones = [
            { label: "小学校 入学", offset: 7, month: "4" },
            { label: "小学校 卒業", offset: 13, month: "3" },
            { label: "中学校 入学", offset: 13, month: "4" },
            { label: "中学校 卒業", offset: 16, month: "3" },
            { label: "高等学校 入学", offset: 16, month: "4" },
            { label: "高等学校 卒業", offset: 19, month: "3" },
            { label: "大学(4年制) 入学", offset: 19, month: "4" },
            { label: "大学(4年制) 卒業", offset: 23, month: "3" }
        ];

        let html = "";
        milestones.forEach(m => {
            const calcYear = baseYear + m.offset;
            html += `<tr>
                <td>${m.label}</td>
                <td>${calcYear}年（${getWareki(calcYear)}）${m.month}月</td>
            </tr>`;
        });

        tableBody.innerHTML = html;
    }
</script>

</body>
</html>
